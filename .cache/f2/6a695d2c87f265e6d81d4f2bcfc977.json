{"id":"YKYE","dependencies":[{"name":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Culling/Octrees/octree.js.map","includedInParent":true,"mtime":1556745103000},{"name":"/Users/hujy/GT/Spring20/3DU/3DPainter/package.json","includedInParent":true,"mtime":1588539929318},{"name":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/package.json","includedInParent":true,"mtime":1588537596306},{"name":"../../Misc/smartArray","loc":{"line":1,"column":38},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Culling/Octrees/octree.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Misc/smartArray.js"},{"name":"./octreeBlock","loc":{"line":2,"column":28},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Culling/Octrees/octree.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Culling/Octrees/octreeBlock.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Octree=void 0;var t=require(\"../../Misc/smartArray\"),e=require(\"./octreeBlock\"),n=function(){function n(e,n,o){void 0===o&&(o=2),this.maxDepth=o,this.dynamicContent=new Array,this._maxBlockCapacity=n||64,this._selectionContent=new t.SmartArrayNoDuplicate(1024),this._creationFunc=e}return n.prototype.update=function(t,n,o){e.OctreeBlock._CreateBlocks(t,n,o,this._maxBlockCapacity,0,this.maxDepth,this,this._creationFunc)},n.prototype.addMesh=function(t){for(var e=0;e<this.blocks.length;e++){this.blocks[e].addEntry(t)}},n.prototype.removeMesh=function(t){for(var e=0;e<this.blocks.length;e++){this.blocks[e].removeEntry(t)}},n.prototype.select=function(t,e){this._selectionContent.reset();for(var n=0;n<this.blocks.length;n++){this.blocks[n].select(t,this._selectionContent,e)}return e?this._selectionContent.concat(this.dynamicContent):this._selectionContent.concatWithNoDuplicate(this.dynamicContent),this._selectionContent},n.prototype.intersects=function(t,e,n){this._selectionContent.reset();for(var o=0;o<this.blocks.length;o++){this.blocks[o].intersects(t,e,this._selectionContent,n)}return n?this._selectionContent.concat(this.dynamicContent):this._selectionContent.concatWithNoDuplicate(this.dynamicContent),this._selectionContent},n.prototype.intersectsRay=function(t){this._selectionContent.reset();for(var e=0;e<this.blocks.length;e++){this.blocks[e].intersectsRay(t,this._selectionContent)}return this._selectionContent.concatWithNoDuplicate(this.dynamicContent),this._selectionContent},n.CreationFuncForMeshes=function(t,e){var n=t.getBoundingInfo();!t.isBlocked&&n.boundingBox.intersectsMinMax(e.minPoint,e.maxPoint)&&e.entries.push(t)},n.CreationFuncForSubMeshes=function(t,e){t.getBoundingInfo().boundingBox.intersectsMinMax(e.minPoint,e.maxPoint)&&e.entries.push(t)},n}();exports.Octree=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":88}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":104}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":129}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":131}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":139}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":156}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":158}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":169}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":178}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":33,"column":16},"generated":{"line":1,"column":180}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":1,"column":182}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":184}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":192}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":196}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":200}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":202}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":205}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":210}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":219}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":1,"column":221}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":1,"column":226}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":1,"column":241}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":20,"column":32},"generated":{"line":1,"column":245}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":251}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":256}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":40,"column":33},"generated":{"line":1,"column":274}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":40,"column":53},"generated":{"line":1,"column":277}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":280}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":285}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":41,"column":33},"generated":{"line":1,"column":303}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":41,"column":37},"generated":{"line":1,"column":307}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":41,"column":33},"generated":{"line":1,"column":309}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":41,"column":62},"generated":{"line":1,"column":331}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":42,"column":13},"generated":{"line":1,"column":337}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":42,"column":13},"generated":{"line":1,"column":342}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":42,"column":29},"generated":{"line":1,"column":356}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":162,"column":0},"generated":{"line":1,"column":358}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":52,"column":11},"generated":{"line":1,"column":365}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":52,"column":11},"generated":{"line":1,"column":367}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":52,"column":11},"generated":{"line":1,"column":377}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":384}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":52,"column":18},"generated":{"line":1,"column":393}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":52,"column":37},"generated":{"line":1,"column":395}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":52,"column":56},"generated":{"line":1,"column":397}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":20},"generated":{"line":1,"column":400}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":20},"generated":{"line":1,"column":402}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":20},"generated":{"line":1,"column":414}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":34},"generated":{"line":1,"column":428}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":44},"generated":{"line":1,"column":430}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":54},"generated":{"line":1,"column":432}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":63},"generated":{"line":1,"column":434}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":68},"generated":{"line":1,"column":439}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":87},"generated":{"line":1,"column":457}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":90},"generated":{"line":1,"column":459}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":95},"generated":{"line":1,"column":464}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":105},"generated":{"line":1,"column":473}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":111},"generated":{"line":1,"column":478}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":53,"column":116},"generated":{"line":1,"column":483}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":499}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":501}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":511}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":60,"column":4},"generated":{"line":1,"column":519}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":60,"column":19},"generated":{"line":1,"column":528}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":61,"column":13},"generated":{"line":1,"column":531}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":61,"column":13},"generated":{"line":1,"column":535}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":61,"column":17},"generated":{"line":1,"column":539}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":61,"column":25},"generated":{"line":1,"column":541}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":61,"column":28},"generated":{"line":1,"column":543}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":61,"column":36},"generated":{"line":1,"column":545}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":61,"column":41},"generated":{"line":1,"column":550}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":61,"column":48},"generated":{"line":1,"column":557}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":61,"column":56},"generated":{"line":1,"column":564}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":61,"column":65},"generated":{"line":1,"column":568}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":62,"column":24},"generated":{"line":1,"column":569}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":62,"column":29},"generated":{"line":1,"column":574}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":62,"column":36},"generated":{"line":1,"column":581}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":63,"column":18},"generated":{"line":1,"column":584}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":63,"column":27},"generated":{"line":1,"column":593}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":71,"column":11},"generated":{"line":1,"column":598}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":71,"column":11},"generated":{"line":1,"column":600}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":71,"column":11},"generated":{"line":1,"column":610}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":1,"column":621}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":71,"column":22},"generated":{"line":1,"column":630}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":72,"column":13},"generated":{"line":1,"column":633}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":72,"column":13},"generated":{"line":1,"column":637}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":72,"column":17},"generated":{"line":1,"column":641}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":72,"column":25},"generated":{"line":1,"column":643}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":72,"column":28},"generated":{"line":1,"column":645}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":72,"column":36},"generated":{"line":1,"column":647}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":72,"column":41},"generated":{"line":1,"column":652}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":72,"column":48},"generated":{"line":1,"column":659}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":72,"column":56},"generated":{"line":1,"column":666}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":72,"column":65},"generated":{"line":1,"column":670}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":73,"column":24},"generated":{"line":1,"column":671}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":73,"column":29},"generated":{"line":1,"column":676}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":73,"column":36},"generated":{"line":1,"column":683}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":74,"column":18},"generated":{"line":1,"column":686}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":74,"column":30},"generated":{"line":1,"column":698}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":84,"column":11},"generated":{"line":1,"column":703}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":84,"column":11},"generated":{"line":1,"column":705}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":84,"column":11},"generated":{"line":1,"column":715}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":1,"column":722}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":84,"column":18},"generated":{"line":1,"column":731}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":84,"column":42},"generated":{"line":1,"column":733}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":1,"column":736}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":1,"column":741}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":85,"column":31},"generated":{"line":1,"column":759}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":1,"column":767}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":1,"column":771}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":87,"column":17},"generated":{"line":1,"column":775}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":87,"column":25},"generated":{"line":1,"column":777}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":87,"column":28},"generated":{"line":1,"column":779}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":87,"column":36},"generated":{"line":1,"column":781}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":87,"column":41},"generated":{"line":1,"column":786}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":87,"column":48},"generated":{"line":1,"column":793}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":87,"column":56},"generated":{"line":1,"column":800}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":87,"column":65},"generated":{"line":1,"column":804}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":88,"column":24},"generated":{"line":1,"column":805}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":88,"column":29},"generated":{"line":1,"column":810}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":88,"column":36},"generated":{"line":1,"column":817}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":89,"column":18},"generated":{"line":1,"column":820}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":89,"column":25},"generated":{"line":1,"column":827}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":89,"column":40},"generated":{"line":1,"column":829}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":89,"column":45},"generated":{"line":1,"column":834}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":89,"column":64},"generated":{"line":1,"column":852}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":98,"column":15},"generated":{"line":1,"column":855}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":92,"column":12},"generated":{"line":1,"column":862}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":93,"column":17},"generated":{"line":1,"column":864}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":93,"column":17},"generated":{"line":1,"column":869}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":93,"column":35},"generated":{"line":1,"column":887}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":93,"column":42},"generated":{"line":1,"column":894}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":93,"column":47},"generated":{"line":1,"column":899}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":95,"column":17},"generated":{"line":1,"column":915}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":95,"column":17},"generated":{"line":1,"column":920}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":95,"column":35},"generated":{"line":1,"column":938}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":95,"column":57},"generated":{"line":1,"column":960}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":95,"column":62},"generated":{"line":1,"column":965}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":98,"column":15},"generated":{"line":1,"column":981}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":98,"column":20},"generated":{"line":1,"column":986}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":108,"column":11},"generated":{"line":1,"column":1005}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":108,"column":11},"generated":{"line":1,"column":1007}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":108,"column":11},"generated":{"line":1,"column":1017}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":1,"column":1028}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":108,"column":22},"generated":{"line":1,"column":1037}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":108,"column":45},"generated":{"line":1,"column":1039}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":108,"column":67},"generated":{"line":1,"column":1041}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":109,"column":13},"generated":{"line":1,"column":1044}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":109,"column":13},"generated":{"line":1,"column":1049}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":109,"column":31},"generated":{"line":1,"column":1067}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":111,"column":13},"generated":{"line":1,"column":1075}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":111,"column":13},"generated":{"line":1,"column":1079}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":111,"column":17},"generated":{"line":1,"column":1083}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":111,"column":25},"generated":{"line":1,"column":1085}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":111,"column":28},"generated":{"line":1,"column":1087}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":111,"column":36},"generated":{"line":1,"column":1089}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":111,"column":41},"generated":{"line":1,"column":1094}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":111,"column":48},"generated":{"line":1,"column":1101}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":111,"column":56},"generated":{"line":1,"column":1108}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":111,"column":65},"generated":{"line":1,"column":1112}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":112,"column":24},"generated":{"line":1,"column":1113}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":112,"column":29},"generated":{"line":1,"column":1118}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":112,"column":36},"generated":{"line":1,"column":1125}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":113,"column":18},"generated":{"line":1,"column":1128}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":113,"column":29},"generated":{"line":1,"column":1139}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":113,"column":43},"generated":{"line":1,"column":1141}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":113,"column":57},"generated":{"line":1,"column":1143}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":113,"column":62},"generated":{"line":1,"column":1148}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":113,"column":81},"generated":{"line":1,"column":1166}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":122,"column":15},"generated":{"line":1,"column":1169}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":116,"column":12},"generated":{"line":1,"column":1176}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":117,"column":17},"generated":{"line":1,"column":1178}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":117,"column":17},"generated":{"line":1,"column":1183}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":117,"column":35},"generated":{"line":1,"column":1201}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":117,"column":42},"generated":{"line":1,"column":1208}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":117,"column":47},"generated":{"line":1,"column":1213}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":119,"column":17},"generated":{"line":1,"column":1229}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":119,"column":17},"generated":{"line":1,"column":1234}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":119,"column":35},"generated":{"line":1,"column":1252}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":119,"column":57},"generated":{"line":1,"column":1274}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":119,"column":62},"generated":{"line":1,"column":1279}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":122,"column":15},"generated":{"line":1,"column":1295}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":122,"column":20},"generated":{"line":1,"column":1300}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":130,"column":11},"generated":{"line":1,"column":1319}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":130,"column":11},"generated":{"line":1,"column":1321}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":130,"column":11},"generated":{"line":1,"column":1331}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":130,"column":4},"generated":{"line":1,"column":1345}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":130,"column":25},"generated":{"line":1,"column":1354}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":131,"column":13},"generated":{"line":1,"column":1357}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":131,"column":13},"generated":{"line":1,"column":1362}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":131,"column":31},"generated":{"line":1,"column":1380}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":133,"column":13},"generated":{"line":1,"column":1388}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":133,"column":13},"generated":{"line":1,"column":1392}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":133,"column":17},"generated":{"line":1,"column":1396}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":133,"column":25},"generated":{"line":1,"column":1398}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":133,"column":28},"generated":{"line":1,"column":1400}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":133,"column":36},"generated":{"line":1,"column":1402}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":133,"column":41},"generated":{"line":1,"column":1407}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":133,"column":48},"generated":{"line":1,"column":1414}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":133,"column":56},"generated":{"line":1,"column":1421}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":133,"column":65},"generated":{"line":1,"column":1425}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":134,"column":24},"generated":{"line":1,"column":1426}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":134,"column":29},"generated":{"line":1,"column":1431}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":134,"column":36},"generated":{"line":1,"column":1438}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":135,"column":18},"generated":{"line":1,"column":1441}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":135,"column":32},"generated":{"line":1,"column":1455}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":135,"column":37},"generated":{"line":1,"column":1457}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":135,"column":42},"generated":{"line":1,"column":1462}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":140,"column":15},"generated":{"line":1,"column":1481}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":138,"column":13},"generated":{"line":1,"column":1488}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":138,"column":13},"generated":{"line":1,"column":1493}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":138,"column":31},"generated":{"line":1,"column":1511}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":138,"column":53},"generated":{"line":1,"column":1533}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":138,"column":58},"generated":{"line":1,"column":1538}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":140,"column":15},"generated":{"line":1,"column":1554}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":140,"column":20},"generated":{"line":1,"column":1559}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":146,"column":18},"generated":{"line":1,"column":1578}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":146,"column":18},"generated":{"line":1,"column":1580}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":146,"column":42},"generated":{"line":1,"column":1602}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":146,"column":43},"generated":{"line":1,"column":1611}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":146,"column":64},"generated":{"line":1,"column":1613}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":147,"column":12},"generated":{"line":1,"column":1616}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":147,"column":12},"generated":{"line":1,"column":1620}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":147,"column":27},"generated":{"line":1,"column":1622}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":147,"column":33},"generated":{"line":1,"column":1624}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":148,"column":13},"generated":{"line":1,"column":1643}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":148,"column":19},"generated":{"line":1,"column":1645}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":148,"column":32},"generated":{"line":1,"column":1656}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":148,"column":45},"generated":{"line":1,"column":1658}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":148,"column":57},"generated":{"line":1,"column":1670}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":148,"column":74},"generated":{"line":1,"column":1687}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":148,"column":80},"generated":{"line":1,"column":1689}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":148,"column":90},"generated":{"line":1,"column":1698}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":148,"column":96},"generated":{"line":1,"column":1700}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":149,"column":12},"generated":{"line":1,"column":1711}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":149,"column":18},"generated":{"line":1,"column":1713}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":149,"column":26},"generated":{"line":1,"column":1721}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":149,"column":31},"generated":{"line":1,"column":1726}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":156,"column":18},"generated":{"line":1,"column":1730}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":156,"column":18},"generated":{"line":1,"column":1732}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":156,"column":45},"generated":{"line":1,"column":1757}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":156,"column":46},"generated":{"line":1,"column":1766}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":156,"column":62},"generated":{"line":1,"column":1768}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":157,"column":27},"generated":{"line":1,"column":1771}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":157,"column":33},"generated":{"line":1,"column":1773}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":158,"column":25},"generated":{"line":1,"column":1791}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":158,"column":37},"generated":{"line":1,"column":1803}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":158,"column":54},"generated":{"line":1,"column":1820}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":158,"column":60},"generated":{"line":1,"column":1822}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":158,"column":70},"generated":{"line":1,"column":1831}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":158,"column":76},"generated":{"line":1,"column":1833}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":159,"column":12},"generated":{"line":1,"column":1844}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":159,"column":18},"generated":{"line":1,"column":1846}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":159,"column":26},"generated":{"line":1,"column":1854}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":159,"column":31},"generated":{"line":1,"column":1859}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":162,"column":0},"generated":{"line":1,"column":1863}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":1865}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":1868}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":1876}},{"source":"../../../../sourceES6/core/Culling/Octrees/octree.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":1883}}],"sources":{"../../../../sourceES6/core/Culling/Octrees/octree.ts":"import { SmartArray, SmartArrayNoDuplicate } from \"../../Misc/smartArray\";\r\nimport { Vector3, Plane } from \"../../Maths/math\";\r\nimport { SubMesh } from \"../../Meshes/subMesh\";\r\nimport { AbstractMesh } from \"../../Meshes/abstractMesh\";\r\nimport { Ray } from \"../../Culling/ray\";\r\nimport { OctreeBlock } from \"./octreeBlock\";\r\n\r\n/**\r\n * Octrees are a really powerful data structure that can quickly select entities based on space coordinates.\r\n * @see https://doc.babylonjs.com/how_to/optimizing_your_scene_with_octrees\r\n */\r\nexport class Octree<T> {\r\n    /**\r\n     * Blocks within the octree containing objects\r\n     */\r\n    public blocks: Array<OctreeBlock<T>>;\r\n    /**\r\n     * Content stored in the octree\r\n     */\r\n    public dynamicContent = new Array<T>();\r\n\r\n    private _maxBlockCapacity: number;\r\n    private _selectionContent: SmartArrayNoDuplicate<T>;\r\n    private _creationFunc: (entry: T, block: OctreeBlock<T>) => void;\r\n\r\n    /**\r\n     * Creates a octree\r\n     * @see https://doc.babylonjs.com/how_to/optimizing_your_scene_with_octrees\r\n     * @param creationFunc function to be used to instatiate the octree\r\n     * @param maxBlockCapacity defines the maximum number of meshes you want on your octree's leaves (default: 64)\r\n     * @param maxDepth defines the maximum depth (sub-levels) for your octree. Default value is 2, which means 8 8 8 = 512 blocks :) (This parameter takes precedence over capacity.)\r\n     */\r\n    constructor(creationFunc: (\r\n        entry: T,\r\n        block: OctreeBlock<T>) => void,\r\n        maxBlockCapacity?: number,\r\n        /** Defines the maximum depth (sub-levels) for your octree. Default value is 2, which means 8 8 8 = 512 blocks :) (This parameter takes precedence over capacity.) */\r\n        public maxDepth = 2\r\n    ) {\r\n        this._maxBlockCapacity = maxBlockCapacity || 64;\r\n        this._selectionContent = new SmartArrayNoDuplicate<T>(1024);\r\n        this._creationFunc = creationFunc;\r\n    }\r\n\r\n    // Methods\r\n    /**\r\n     * Updates the octree by adding blocks for the passed in meshes within the min and max world parameters\r\n     * @param worldMin worldMin for the octree blocks var blockSize = new Vector3((worldMax.x - worldMin.x) / 2, (worldMax.y - worldMin.y) / 2, (worldMax.z - worldMin.z) / 2);\r\n     * @param worldMax worldMax for the octree blocks var blockSize = new Vector3((worldMax.x - worldMin.x) / 2, (worldMax.y - worldMin.y) / 2, (worldMax.z - worldMin.z) / 2);\r\n     * @param entries meshes to be added to the octree blocks\r\n     */\r\n    public update(worldMin: Vector3, worldMax: Vector3, entries: T[]): void {\r\n        OctreeBlock._CreateBlocks(worldMin, worldMax, entries, this._maxBlockCapacity, 0, this.maxDepth, this, this._creationFunc);\r\n    }\r\n\r\n    /**\r\n     * Adds a mesh to the octree\r\n     * @param entry Mesh to add to the octree\r\n     */\r\n    public addMesh(entry: T): void {\r\n        for (var index = 0; index < this.blocks.length; index++) {\r\n            var block = this.blocks[index];\r\n            block.addEntry(entry);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove an element from the octree\r\n     * @param entry defines the element to remove\r\n     */\r\n    public removeMesh(entry: T): void {\r\n        for (var index = 0; index < this.blocks.length; index++) {\r\n            var block = this.blocks[index];\r\n            block.removeEntry(entry);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Selects an array of meshes within the frustum\r\n     * @param frustumPlanes The frustum planes to use which will select all meshes within it\r\n     * @param allowDuplicate If duplicate objects are allowed in the resulting object array\r\n     * @returns array of meshes within the frustum\r\n     */\r\n    public select(frustumPlanes: Plane[], allowDuplicate?: boolean): SmartArray<T> {\r\n        this._selectionContent.reset();\r\n\r\n        for (var index = 0; index < this.blocks.length; index++) {\r\n            var block = this.blocks[index];\r\n            block.select(frustumPlanes, this._selectionContent, allowDuplicate);\r\n        }\r\n\r\n        if (allowDuplicate) {\r\n            this._selectionContent.concat(this.dynamicContent);\r\n        } else {\r\n            this._selectionContent.concatWithNoDuplicate(this.dynamicContent);\r\n        }\r\n\r\n        return this._selectionContent;\r\n    }\r\n\r\n    /**\r\n     * Test if the octree intersect with the given bounding sphere and if yes, then add its content to the selection array\r\n     * @param sphereCenter defines the bounding sphere center\r\n     * @param sphereRadius defines the bounding sphere radius\r\n     * @param allowDuplicate defines if the selection array can contains duplicated entries\r\n     * @returns an array of objects that intersect the sphere\r\n     */\r\n    public intersects(sphereCenter: Vector3, sphereRadius: number, allowDuplicate?: boolean): SmartArray<T> {\r\n        this._selectionContent.reset();\r\n\r\n        for (var index = 0; index < this.blocks.length; index++) {\r\n            var block = this.blocks[index];\r\n            block.intersects(sphereCenter, sphereRadius, this._selectionContent, allowDuplicate);\r\n        }\r\n\r\n        if (allowDuplicate) {\r\n            this._selectionContent.concat(this.dynamicContent);\r\n        } else {\r\n            this._selectionContent.concatWithNoDuplicate(this.dynamicContent);\r\n        }\r\n\r\n        return this._selectionContent;\r\n    }\r\n\r\n    /**\r\n    * Test if the octree intersect with the given ray and if yes, then add its content to resulting array\r\n     * @param ray defines the ray to test with\r\n     * @returns array of intersected objects\r\n     */\r\n    public intersectsRay(ray: Ray): SmartArray<T> {\r\n        this._selectionContent.reset();\r\n\r\n        for (var index = 0; index < this.blocks.length; index++) {\r\n            var block = this.blocks[index];\r\n            block.intersectsRay(ray, this._selectionContent);\r\n        }\r\n\r\n        this._selectionContent.concatWithNoDuplicate(this.dynamicContent);\r\n\r\n        return this._selectionContent;\r\n    }\r\n\r\n    /**\r\n     * Adds a mesh into the octree block if it intersects the block\r\n     */\r\n    public static CreationFuncForMeshes = (entry: AbstractMesh, block: OctreeBlock<AbstractMesh>): void => {\r\n        let boundingInfo = entry.getBoundingInfo();\r\n        if (!entry.isBlocked && boundingInfo.boundingBox.intersectsMinMax(block.minPoint, block.maxPoint)) {\r\n            block.entries.push(entry);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Adds a submesh into the octree block if it intersects the block\r\n     */\r\n    public static CreationFuncForSubMeshes = (entry: SubMesh, block: OctreeBlock<SubMesh>): void => {\r\n        let boundingInfo = entry.getBoundingInfo();\r\n        if (boundingInfo.boundingBox.intersectsMinMax(block.minPoint, block.maxPoint)) {\r\n            block.entries.push(entry);\r\n        }\r\n    }\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"92995fa7f2322fef3d0fa94d4dd6cfe5","cacheData":{"env":{}}}