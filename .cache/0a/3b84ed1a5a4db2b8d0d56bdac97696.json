{"id":"Vd0w","dependencies":[{"name":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Collisions/collisionCoordinator.js.map","includedInParent":true,"mtime":1556745102000},{"name":"/Users/hujy/GT/Spring20/3DU/3DPainter/package.json","includedInParent":true,"mtime":1588539929318},{"name":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/package.json","includedInParent":true,"mtime":1588537596306},{"name":"../scene","loc":{"line":1,"column":22},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Collisions/collisionCoordinator.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/scene.js"},{"name":"../Maths/math","loc":{"line":2,"column":24},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Collisions/collisionCoordinator.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Maths/math.js"},{"name":"../Engines/engine","loc":{"line":3,"column":23},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Collisions/collisionCoordinator.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Engines/engine.js"},{"name":"./collider","loc":{"line":4,"column":25},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Collisions/collisionCoordinator.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Collisions/collider.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DefaultCollisionCoordinator=void 0;var i=require(\"../scene\"),o=require(\"../Maths/math\"),e=require(\"../Engines/engine\"),t=require(\"./collider\"),s=function(){function i(){this._scaledPosition=o.Vector3.Zero(),this._scaledVelocity=o.Vector3.Zero(),this._finalPosition=o.Vector3.Zero()}return i.prototype.getNewPosition=function(i,o,e,t,s,l,n){i.divideToRef(e._radius,this._scaledPosition),o.divideToRef(e._radius,this._scaledVelocity),e.collidedMesh=null,e._retry=0,e._initialVelocity=this._scaledVelocity,e._initialPosition=this._scaledPosition,this._collideWithWorld(this._scaledPosition,this._scaledVelocity,e,t,this._finalPosition,s),this._finalPosition.multiplyInPlace(e._radius),l(n,this._finalPosition,e.collidedMesh)},i.prototype.createCollider=function(){return new t.Collider},i.prototype.init=function(i){this._scene=i},i.prototype._collideWithWorld=function(i,o,t,s,l,n){void 0===n&&(n=null);var r=10*e.Engine.CollisionsEpsilon;if(t._retry>=s)l.copyFrom(i);else{var c=n?n.collisionMask:t.collisionMask;t._initialize(i,o,r);for(var d=0;d<this._scene.meshes.length;d++){var a=this._scene.meshes[d];a.isEnabled()&&a.checkCollisions&&a.subMeshes&&a!==n&&0!=(c&a.collisionGroup)&&a._checkCollision(t)}t.collisionFound?(0===o.x&&0===o.y&&0===o.z||t._getResponse(i,o),o.length()<=r?l.copyFrom(i):(t._retry++,this._collideWithWorld(i,o,t,s,l,n))):i.addToRef(o,l)}},i}();exports.DefaultCollisionCoordinator=s,i.Scene.CollisionCoordinatorFactory=function(){return new s};"},"sourceMaps":{"js":{"mappings":[{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":109}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":111}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":115}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":137}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":139}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":147}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":164}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":166}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":174}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":195}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":197}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":205}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":219}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":221}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":232}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":241}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":20,"column":12},"generated":{"line":1,"column":245}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":20,"column":12},"generated":{"line":1,"column":250}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":20,"column":30},"generated":{"line":1,"column":266}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":20,"column":38},"generated":{"line":1,"column":268}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":20,"column":38},"generated":{"line":1,"column":276}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":21,"column":12},"generated":{"line":1,"column":283}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":21,"column":12},"generated":{"line":1,"column":288}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":21,"column":30},"generated":{"line":1,"column":304}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":21,"column":38},"generated":{"line":1,"column":306}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":21,"column":38},"generated":{"line":1,"column":314}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":321}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":326}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":23,"column":29},"generated":{"line":1,"column":341}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":23,"column":37},"generated":{"line":1,"column":343}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":23,"column":37},"generated":{"line":1,"column":351}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":85,"column":0},"generated":{"line":1,"column":358}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":365}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":367}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":377}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":392}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":25,"column":26},"generated":{"line":1,"column":401}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":25,"column":45},"generated":{"line":1,"column":403}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":25,"column":68},"generated":{"line":1,"column":405}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":25,"column":88},"generated":{"line":1,"column":407}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":25,"column":110},"generated":{"line":1,"column":409}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":25,"column":138},"generated":{"line":1,"column":411}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":25,"column":247},"generated":{"line":1,"column":413}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":416}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":26,"column":17},"generated":{"line":1,"column":418}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":26,"column":29},"generated":{"line":1,"column":430}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":26,"column":38},"generated":{"line":1,"column":432}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":26,"column":47},"generated":{"line":1,"column":440}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":26,"column":52},"generated":{"line":1,"column":445}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":462}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":27,"column":21},"generated":{"line":1,"column":464}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":27,"column":33},"generated":{"line":1,"column":476}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":27,"column":42},"generated":{"line":1,"column":478}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":27,"column":51},"generated":{"line":1,"column":486}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":27,"column":56},"generated":{"line":1,"column":491}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":508}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":1,"column":510}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":28,"column":32},"generated":{"line":1,"column":523}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":528}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":29,"column":17},"generated":{"line":1,"column":530}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":29,"column":26},"generated":{"line":1,"column":537}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":539}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":30,"column":17},"generated":{"line":1,"column":541}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":30,"column":36},"generated":{"line":1,"column":558}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":30,"column":41},"generated":{"line":1,"column":563}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":579}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":31,"column":17},"generated":{"line":1,"column":581}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":31,"column":36},"generated":{"line":1,"column":598}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":31,"column":41},"generated":{"line":1,"column":603}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":1,"column":619}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":1,"column":624}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":32,"column":31},"generated":{"line":1,"column":642}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":32,"column":36},"generated":{"line":1,"column":647}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":32,"column":53},"generated":{"line":1,"column":663}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":32,"column":58},"generated":{"line":1,"column":668}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":32,"column":75},"generated":{"line":1,"column":684}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":32,"column":85},"generated":{"line":1,"column":686}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":32,"column":99},"generated":{"line":1,"column":688}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":32,"column":104},"generated":{"line":1,"column":693}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":32,"column":120},"generated":{"line":1,"column":708}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":34,"column":13},"generated":{"line":1,"column":711}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":34,"column":13},"generated":{"line":1,"column":716}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":34,"column":28},"generated":{"line":1,"column":731}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":34,"column":44},"generated":{"line":1,"column":747}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":34,"column":53},"generated":{"line":1,"column":749}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":1,"column":758}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":36,"column":22},"generated":{"line":1,"column":760}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":36,"column":38},"generated":{"line":1,"column":762}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":36,"column":43},"generated":{"line":1,"column":767}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":36,"column":59},"generated":{"line":1,"column":782}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":36,"column":68},"generated":{"line":1,"column":784}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":39,"column":11},"generated":{"line":1,"column":799}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":39,"column":11},"generated":{"line":1,"column":801}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":39,"column":11},"generated":{"line":1,"column":811}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":826}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":1,"column":837}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":1,"column":844}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":40,"column":19},"generated":{"line":1,"column":848}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":1,"column":850}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":860}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":862}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":872}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":877}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":43,"column":16},"generated":{"line":1,"column":886}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":44,"column":13},"generated":{"line":1,"column":889}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":44,"column":13},"generated":{"line":1,"column":894}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":44,"column":22},"generated":{"line":1,"column":901}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":12},"generated":{"line":1,"column":904}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":12},"generated":{"line":1,"column":906}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":12},"generated":{"line":1,"column":916}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":1,"column":934}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":30},"generated":{"line":1,"column":943}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":49},"generated":{"line":1,"column":945}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":68},"generated":{"line":1,"column":947}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":88},"generated":{"line":1,"column":949}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":110},"generated":{"line":1,"column":951}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":134},"generated":{"line":1,"column":953}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":134},"generated":{"line":1,"column":961}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":134},"generated":{"line":1,"column":965}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":134},"generated":{"line":1,"column":969}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":47,"column":134},"generated":{"line":1,"column":971}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":977}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":981}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":48,"column":55},"generated":{"line":1,"column":983}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":48,"column":28},"generated":{"line":1,"column":986}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":48,"column":35},"generated":{"line":1,"column":988}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":48,"column":35},"generated":{"line":1,"column":995}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":1013}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":1016}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":50,"column":21},"generated":{"line":1,"column":1018}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":50,"column":31},"generated":{"line":1,"column":1026}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":1028}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":51,"column":26},"generated":{"line":1,"column":1030}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":51,"column":35},"generated":{"line":1,"column":1039}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":1046}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":1,"column":1047}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":1,"column":1051}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":56,"column":29},"generated":{"line":1,"column":1053}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":56,"column":44},"generated":{"line":1,"column":1055}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":56,"column":57},"generated":{"line":1,"column":1057}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":56,"column":73},"generated":{"line":1,"column":1071}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":56,"column":82},"generated":{"line":1,"column":1073}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":1087}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":58,"column":17},"generated":{"line":1,"column":1089}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":58,"column":29},"generated":{"line":1,"column":1101}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":58,"column":39},"generated":{"line":1,"column":1103}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":58,"column":49},"generated":{"line":1,"column":1105}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":61,"column":13},"generated":{"line":1,"column":1108}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":61,"column":13},"generated":{"line":1,"column":1112}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":61,"column":17},"generated":{"line":1,"column":1116}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":61,"column":25},"generated":{"line":1,"column":1118}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":61,"column":28},"generated":{"line":1,"column":1120}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":61,"column":36},"generated":{"line":1,"column":1122}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":61,"column":41},"generated":{"line":1,"column":1127}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":61,"column":48},"generated":{"line":1,"column":1134}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":61,"column":55},"generated":{"line":1,"column":1141}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":61,"column":63},"generated":{"line":1,"column":1148}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":61,"column":72},"generated":{"line":1,"column":1152}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":1153}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":1157}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":62,"column":23},"generated":{"line":1,"column":1159}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":1164}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":62,"column":35},"generated":{"line":1,"column":1171}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":62,"column":42},"generated":{"line":1,"column":1178}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":63,"column":16},"generated":{"line":1,"column":1181}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":63,"column":21},"generated":{"line":1,"column":1183}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":63,"column":36},"generated":{"line":1,"column":1196}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":63,"column":41},"generated":{"line":1,"column":1198}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":63,"column":60},"generated":{"line":1,"column":1215}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":63,"column":65},"generated":{"line":1,"column":1217}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":63,"column":78},"generated":{"line":1,"column":1228}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":63,"column":87},"generated":{"line":1,"column":1232}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":63,"column":146},"generated":{"line":1,"column":1235}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":63,"column":105},"generated":{"line":1,"column":1239}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":63,"column":121},"generated":{"line":1,"column":1241}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":63,"column":126},"generated":{"line":1,"column":1243}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":1,"column":1260}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":64,"column":21},"generated":{"line":1,"column":1262}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":64,"column":37},"generated":{"line":1,"column":1278}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":68,"column":13},"generated":{"line":1,"column":1281}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":68,"column":22},"generated":{"line":1,"column":1283}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":73,"column":27},"generated":{"line":1,"column":1299}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":73,"column":12},"generated":{"line":1,"column":1303}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":73,"column":21},"generated":{"line":1,"column":1305}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":73,"column":47},"generated":{"line":1,"column":1308}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":73,"column":32},"generated":{"line":1,"column":1312}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":73,"column":41},"generated":{"line":1,"column":1314}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":73,"column":67},"generated":{"line":1,"column":1317}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":73,"column":52},"generated":{"line":1,"column":1321}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":73,"column":61},"generated":{"line":1,"column":1323}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":74,"column":12},"generated":{"line":1,"column":1326}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":74,"column":21},"generated":{"line":1,"column":1328}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":74,"column":34},"generated":{"line":1,"column":1341}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":74,"column":44},"generated":{"line":1,"column":1343}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":77,"column":12},"generated":{"line":1,"column":1346}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":77,"column":21},"generated":{"line":1,"column":1348}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":77,"column":33},"generated":{"line":1,"column":1358}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":78,"column":12},"generated":{"line":1,"column":1360}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":78,"column":26},"generated":{"line":1,"column":1362}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":78,"column":35},"generated":{"line":1,"column":1371}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":82,"column":8},"generated":{"line":1,"column":1375}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":82,"column":17},"generated":{"line":1,"column":1377}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":83,"column":13},"generated":{"line":1,"column":1386}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":83,"column":13},"generated":{"line":1,"column":1391}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":83,"column":31},"generated":{"line":1,"column":1409}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":83,"column":41},"generated":{"line":1,"column":1411}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":83,"column":51},"generated":{"line":1,"column":1413}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":83,"column":61},"generated":{"line":1,"column":1415}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":83,"column":75},"generated":{"line":1,"column":1417}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":83,"column":90},"generated":{"line":1,"column":1419}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":69,"column":12},"generated":{"line":1,"column":1424}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":69,"column":21},"generated":{"line":1,"column":1426}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":69,"column":30},"generated":{"line":1,"column":1435}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":69,"column":40},"generated":{"line":1,"column":1437}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":85,"column":0},"generated":{"line":1,"column":1442}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":1444}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":1447}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":1455}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":1483}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":1,"column":1485}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":6},"generated":{"line":1,"column":1487}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":6},"generated":{"line":1,"column":1493}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":87,"column":36},"generated":{"line":1,"column":1521}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":88,"column":11},"generated":{"line":1,"column":1532}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":88,"column":11},"generated":{"line":1,"column":1539}},{"source":"../../../sourceES6/core/Collisions/collisionCoordinator.ts","name":null,"original":{"line":88,"column":15},"generated":{"line":1,"column":1543}}],"sources":{"../../../sourceES6/core/Collisions/collisionCoordinator.ts":"import { Nullable } from \"../types\";\r\nimport { Scene } from \"../scene\";\r\nimport { Vector3 } from \"../Maths/math\";\r\nimport { Engine } from \"../Engines/engine\";\r\nimport { Collider } from \"./collider\";\r\nimport { AbstractMesh } from \"../Meshes/abstractMesh\";\r\n\r\n/** @hidden */\r\nexport interface ICollisionCoordinator {\r\n    createCollider(): Collider;\r\n    getNewPosition(position: Vector3, displacement: Vector3, collider: Collider, maximumRetry: number, excludedMesh: Nullable<AbstractMesh>, onNewPosition: (collisionIndex: number, newPosition: Vector3, collidedMesh: Nullable<AbstractMesh>) => void, collisionIndex: number): void;\r\n    init(scene: Scene): void;\r\n}\r\n\r\n/** @hidden */\r\nexport class DefaultCollisionCoordinator implements ICollisionCoordinator {\r\n\r\n    private _scene: Scene;\r\n\r\n    private _scaledPosition = Vector3.Zero();\r\n    private _scaledVelocity = Vector3.Zero();\r\n\r\n    private _finalPosition = Vector3.Zero();\r\n\r\n    public getNewPosition(position: Vector3, displacement: Vector3, collider: Collider, maximumRetry: number, excludedMesh: AbstractMesh, onNewPosition: (collisionIndex: number, newPosition: Vector3, collidedMesh: Nullable<AbstractMesh>) => void, collisionIndex: number): void {\r\n        position.divideToRef(collider._radius, this._scaledPosition);\r\n        displacement.divideToRef(collider._radius, this._scaledVelocity);\r\n        collider.collidedMesh = null;\r\n        collider._retry = 0;\r\n        collider._initialVelocity = this._scaledVelocity;\r\n        collider._initialPosition = this._scaledPosition;\r\n        this._collideWithWorld(this._scaledPosition, this._scaledVelocity, collider, maximumRetry, this._finalPosition, excludedMesh);\r\n\r\n        this._finalPosition.multiplyInPlace(collider._radius);\r\n        //run the callback\r\n        onNewPosition(collisionIndex, this._finalPosition, collider.collidedMesh);\r\n    }\r\n\r\n    public createCollider(): Collider {\r\n        return new Collider();\r\n    }\r\n\r\n    public init(scene: Scene): void {\r\n        this._scene = scene;\r\n    }\r\n\r\n    private _collideWithWorld(position: Vector3, velocity: Vector3, collider: Collider, maximumRetry: number, finalPosition: Vector3, excludedMesh: Nullable<AbstractMesh> = null): void {\r\n        var closeDistance = Engine.CollisionsEpsilon * 10.0;\r\n\r\n        if (collider._retry >= maximumRetry) {\r\n            finalPosition.copyFrom(position);\r\n            return;\r\n        }\r\n\r\n        // Check if this is a mesh else camera or -1\r\n        var collisionMask = (excludedMesh ? excludedMesh.collisionMask : collider.collisionMask);\r\n\r\n        collider._initialize(position, velocity, closeDistance);\r\n\r\n        // Check all meshes\r\n        for (var index = 0; index < this._scene.meshes.length; index++) {\r\n            var mesh = this._scene.meshes[index];\r\n            if (mesh.isEnabled() && mesh.checkCollisions && mesh.subMeshes && mesh !== excludedMesh && ((collisionMask & mesh.collisionGroup) !== 0)) {\r\n                mesh._checkCollision(collider);\r\n            }\r\n        }\r\n\r\n        if (!collider.collisionFound) {\r\n            position.addToRef(velocity, finalPosition);\r\n            return;\r\n        }\r\n\r\n        if (velocity.x !== 0 || velocity.y !== 0 || velocity.z !== 0) {\r\n            collider._getResponse(position, velocity);\r\n        }\r\n\r\n        if (velocity.length() <= closeDistance) {\r\n            finalPosition.copyFrom(position);\r\n            return;\r\n        }\r\n\r\n        collider._retry++;\r\n        this._collideWithWorld(position, velocity, collider, maximumRetry, finalPosition, excludedMesh);\r\n    }\r\n}\r\n\r\nScene.CollisionCoordinatorFactory = () => {\r\n    return new DefaultCollisionCoordinator();\r\n};\r\n"},"lineCount":null}},"error":null,"hash":"03d911de4cc90812195db545f52d74a9","cacheData":{"env":{}}}