{"id":"YVXF","dependencies":[{"name":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/shadowMap.vertex.js.map","includedInParent":true,"mtime":1556745100000},{"name":"/Users/hujy/GT/Spring20/3DU/3DPainter/package.json","includedInParent":true,"mtime":1588539929318},{"name":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/package.json","includedInParent":true,"mtime":1588537596306},{"name":"../Materials/effect","loc":{"line":1,"column":23},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/shadowMap.vertex.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Materials/effect.js"},{"name":"./ShadersInclude/bonesDeclaration","loc":{"line":2,"column":7},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/shadowMap.vertex.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/ShadersInclude/bonesDeclaration.js"},{"name":"./ShadersInclude/morphTargetsVertexGlobalDeclaration","loc":{"line":3,"column":7},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/shadowMap.vertex.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/ShadersInclude/morphTargetsVertexGlobalDeclaration.js"},{"name":"./ShadersInclude/morphTargetsVertexDeclaration","loc":{"line":4,"column":7},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/shadowMap.vertex.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/ShadersInclude/morphTargetsVertexDeclaration.js"},{"name":"./ShadersInclude/instancesDeclaration","loc":{"line":5,"column":7},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/shadowMap.vertex.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesDeclaration.js"},{"name":"./ShadersInclude/helperFunctions","loc":{"line":6,"column":7},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/shadowMap.vertex.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/ShadersInclude/helperFunctions.js"},{"name":"./ShadersInclude/morphTargetsVertex","loc":{"line":7,"column":7},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/shadowMap.vertex.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/ShadersInclude/morphTargetsVertex.js"},{"name":"./ShadersInclude/instancesVertex","loc":{"line":8,"column":7},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/shadowMap.vertex.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesVertex.js"},{"name":"./ShadersInclude/bonesVertex","loc":{"line":9,"column":7},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/shadowMap.vertex.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Shaders/ShadersInclude/bonesVertex.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.shadowMapVertexShader=void 0;var e=require(\"../Materials/effect\");require(\"./ShadersInclude/bonesDeclaration\"),require(\"./ShadersInclude/morphTargetsVertexGlobalDeclaration\"),require(\"./ShadersInclude/morphTargetsVertexDeclaration\"),require(\"./ShadersInclude/instancesDeclaration\"),require(\"./ShadersInclude/helperFunctions\"),require(\"./ShadersInclude/morphTargetsVertex\"),require(\"./ShadersInclude/instancesVertex\"),require(\"./ShadersInclude/bonesVertex\");var n=\"shadowMapVertexShader\",r=\"\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\nuniform vec3 lightData;\\n#endif\\n#include<bonesDeclaration>\\n#include<morphTargetsVertexGlobalDeclaration>\\n#include<morphTargetsVertexDeclaration>[0..maxSimultaneousMorphTargets]\\n\\n#include<instancesDeclaration>\\n#include<helperFunctions>\\nuniform mat4 viewProjection;\\nuniform vec3 biasAndScale;\\nuniform vec2 depthValues;\\nvarying float vDepthMetric;\\n#ifdef ALPHATEST\\nvarying vec2 vUV;\\nuniform mat4 diffuseMatrix;\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#endif\\nvoid main(void)\\n{\\nvec3 positionUpdated=position;\\n#include<morphTargetsVertex>[0..maxSimultaneousMorphTargets]\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(positionUpdated,1.0);\\n\\n#ifdef NORMAL\\nmat3 normalWorld=mat3(finalWorld);\\n#ifdef NONUNIFORMSCALING\\nnormalWorld=transposeMat3(inverseMat3(normalWorld));\\n#endif\\nvec3 worldNor=normalize(normalWorld*normal);\\n#ifdef DIRECTIONINLIGHTDATA\\nvec3 worldLightDir=normalize(-lightData.xyz);\\n#else\\nvec3 directionToLight=lightData.xyz-worldPos.xyz;\\nvec3 worldLightDir=normalize(directionToLight);\\n#endif\\nfloat ndl=dot(worldNor,worldLightDir);\\nfloat sinNL=sqrt(1.0-ndl*ndl);\\nfloat normalBias=biasAndScale.y*sinNL;\\nworldPos.xyz-=worldNor*normalBias;\\n#endif\\n\\ngl_Position=viewProjection*worldPos;\\n#ifdef DEPTHTEXTURE\\n\\ngl_Position.z+=biasAndScale.x*gl_Position.w;\\n#endif\\n\\nvDepthMetric=((gl_Position.z+depthValues.x)/(depthValues.y))+biasAndScale.x;\\n#ifdef ALPHATEST\\n#ifdef UV1\\nvUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n#endif\\n#ifdef UV2\\nvUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n#endif\\n#endif\\n}\";e.Effect.ShadersStore[n]=r;var i={name:n,shader:r};exports.shadowMapVertexShader=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":0}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":13}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":20}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":35}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":43}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":56}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":57}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":64}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":68}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":76}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":103}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":109}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":111}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":119}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":142}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":150}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":187}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":195}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":251}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":259}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":309}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":317}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":358}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":366}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":402}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":410}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":449}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":457}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":493}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":501}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":533}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":1,"column":537}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":11,"column":11},"generated":{"line":1,"column":539}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":1,"column":563}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":12,"column":13},"generated":{"line":1,"column":565}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":81,"column":0},"generated":{"line":1,"column":2248}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":81,"column":7},"generated":{"line":1,"column":2250}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":81,"column":7},"generated":{"line":1,"column":2257}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":81,"column":20},"generated":{"line":1,"column":2270}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":81,"column":28},"generated":{"line":1,"column":2273}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":2275}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":2279}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":35},"generated":{"line":1,"column":2281}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":37},"generated":{"line":1,"column":2282}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":41},"generated":{"line":1,"column":2287}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":43},"generated":{"line":1,"column":2289}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":49},"generated":{"line":1,"column":2296}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":2299}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":2307}},{"source":"../../../sourceES6/core/Shaders/shadowMap.vertex.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":1,"column":2329}}],"sources":{"../../../sourceES6/core/Shaders/shadowMap.vertex.ts":"import { Effect } from \"../Materials/effect\";\nimport \"./ShadersInclude/bonesDeclaration\";\nimport \"./ShadersInclude/morphTargetsVertexGlobalDeclaration\";\nimport \"./ShadersInclude/morphTargetsVertexDeclaration\";\nimport \"./ShadersInclude/instancesDeclaration\";\nimport \"./ShadersInclude/helperFunctions\";\nimport \"./ShadersInclude/morphTargetsVertex\";\nimport \"./ShadersInclude/instancesVertex\";\nimport \"./ShadersInclude/bonesVertex\";\n\nlet name = 'shadowMapVertexShader';\nlet shader = `\nattribute vec3 position;\n#ifdef NORMAL\nattribute vec3 normal;\nuniform vec3 lightData;\n#endif\n#include<bonesDeclaration>\n#include<morphTargetsVertexGlobalDeclaration>\n#include<morphTargetsVertexDeclaration>[0..maxSimultaneousMorphTargets]\n\n#include<instancesDeclaration>\n#include<helperFunctions>\nuniform mat4 viewProjection;\nuniform vec3 biasAndScale;\nuniform vec2 depthValues;\nvarying float vDepthMetric;\n#ifdef ALPHATEST\nvarying vec2 vUV;\nuniform mat4 diffuseMatrix;\n#ifdef UV1\nattribute vec2 uv;\n#endif\n#ifdef UV2\nattribute vec2 uv2;\n#endif\n#endif\nvoid main(void)\n{\nvec3 positionUpdated=position;\n#include<morphTargetsVertex>[0..maxSimultaneousMorphTargets]\n#include<instancesVertex>\n#include<bonesVertex>\nvec4 worldPos=finalWorld*vec4(positionUpdated,1.0);\n\n#ifdef NORMAL\nmat3 normalWorld=mat3(finalWorld);\n#ifdef NONUNIFORMSCALING\nnormalWorld=transposeMat3(inverseMat3(normalWorld));\n#endif\nvec3 worldNor=normalize(normalWorld*normal);\n#ifdef DIRECTIONINLIGHTDATA\nvec3 worldLightDir=normalize(-lightData.xyz);\n#else\nvec3 directionToLight=lightData.xyz-worldPos.xyz;\nvec3 worldLightDir=normalize(directionToLight);\n#endif\nfloat ndl=dot(worldNor,worldLightDir);\nfloat sinNL=sqrt(1.0-ndl*ndl);\nfloat normalBias=biasAndScale.y*sinNL;\nworldPos.xyz-=worldNor*normalBias;\n#endif\n\ngl_Position=viewProjection*worldPos;\n#ifdef DEPTHTEXTURE\n\ngl_Position.z+=biasAndScale.x*gl_Position.w;\n#endif\n\nvDepthMetric=((gl_Position.z+depthValues.x)/(depthValues.y))+biasAndScale.x;\n#ifdef ALPHATEST\n#ifdef UV1\nvUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\n#endif\n#ifdef UV2\nvUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\n#endif\n#endif\n}`;\n\nEffect.ShadersStore[name] = shader;\n/** @hidden */\nexport var shadowMapVertexShader = { name, shader };\n"},"lineCount":null}},"error":null,"hash":"e9daacfcd748a532a79705dd346e579a","cacheData":{"env":{}}}