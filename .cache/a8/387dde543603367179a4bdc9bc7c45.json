{"id":"MskY","dependencies":[{"name":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Cameras/RigModes/vrRigMode.js.map","includedInParent":true,"mtime":1556745102000},{"name":"/Users/hujy/GT/Spring20/3DU/3DPainter/package.json","includedInParent":true,"mtime":1588539929318},{"name":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/package.json","includedInParent":true,"mtime":1588537596306},{"name":"../camera","loc":{"line":1,"column":23},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Cameras/RigModes/vrRigMode.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Cameras/camera.js"},{"name":"../../Maths/math","loc":{"line":2,"column":33},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Cameras/RigModes/vrRigMode.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Maths/math.js"},{"name":"../../PostProcesses/vrDistortionCorrectionPostProcess","loc":{"line":3,"column":50},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Cameras/RigModes/vrRigMode.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/PostProcesses/vrDistortionCorrectionPostProcess.js"},{"name":"../../PostProcesses/vrMultiviewToSingleviewPostProcess","loc":{"line":4,"column":51},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Cameras/RigModes/vrRigMode.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/PostProcesses/vrMultiviewToSingleviewPostProcess.js"},{"name":"../VR/vrCameraMetrics","loc":{"line":5,"column":32},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Cameras/RigModes/vrRigMode.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Cameras/VR/vrCameraMetrics.js"},{"name":"../../Misc/logger","loc":{"line":6,"column":23},"parent":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Cameras/RigModes/vrRigMode.js","resolved":"/Users/hujy/GT/Spring20/3DU/3DPainter/node_modules/@babylonjs/core/Misc/logger.js"}],"generated":{"js":"\"use strict\";var r=require(\"../camera\"),e=require(\"../../Maths/math\"),i=require(\"../../PostProcesses/vrDistortionCorrectionPostProcess\"),a=require(\"../../PostProcesses/vrMultiviewToSingleviewPostProcess\"),t=require(\"../VR/vrCameraMetrics\"),s=require(\"../../Misc/logger\");r.Camera._setVRRigMode=function(r,o){var g=o.vrCameraMetrics||t.VRCameraMetrics.GetDefault();r._rigCameras[0]._cameraRigParams.vrMetrics=g,r._rigCameras[0].viewport=new e.Viewport(0,0,.5,1),r._rigCameras[0]._cameraRigParams.vrWorkMatrix=new e.Matrix,r._rigCameras[0]._cameraRigParams.vrHMatrix=g.leftHMatrix,r._rigCameras[0]._cameraRigParams.vrPreViewMatrix=g.leftPreViewMatrix,r._rigCameras[0].getProjectionMatrix=r._rigCameras[0]._getVRProjectionMatrix,r._rigCameras[1]._cameraRigParams.vrMetrics=g,r._rigCameras[1].viewport=new e.Viewport(.5,0,.5,1),r._rigCameras[1]._cameraRigParams.vrWorkMatrix=new e.Matrix,r._rigCameras[1]._cameraRigParams.vrHMatrix=g.rightHMatrix,r._rigCameras[1]._cameraRigParams.vrPreViewMatrix=g.rightPreViewMatrix,r._rigCameras[1].getProjectionMatrix=r._rigCameras[1]._getVRProjectionMatrix,g.multiviewEnabled&&(r.getScene().getEngine().getCaps().multiview?(r._useMultiviewToSingleView=!0,r._rigPostProcess=new a.VRMultiviewToSingleviewPostProcess(\"VRMultiviewToSingleview\",r,g.postProcessScaleFactor)):(s.Logger.Warn(\"Multiview is not supported, falling back to standard rendering\"),g.multiviewEnabled=!1)),g.compensateDistortion&&(r._rigCameras[0]._rigPostProcess=new i.VRDistortionCorrectionPostProcess(\"VR_Distort_Compensation_Left\",r._rigCameras[0],!1,g),r._rigCameras[1]._rigPostProcess=new i.VRDistortionCorrectionPostProcess(\"VR_Distort_Compensation_Right\",r._rigCameras[1],!0,g))};"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":27}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":40}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":42}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":50}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":70}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":72}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":80}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":137}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":139}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":147}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":205}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":207}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":215}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":240}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":242}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":250}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":271}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":8,"column":7},"generated":{"line":1,"column":273}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":8,"column":7},"generated":{"line":1,"column":280}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":8,"column":23},"generated":{"line":1,"column":294}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":8,"column":32},"generated":{"line":1,"column":303}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":8,"column":48},"generated":{"line":1,"column":305}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":9,"column":8},"generated":{"line":1,"column":308}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":9,"column":8},"generated":{"line":1,"column":312}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":9,"column":35},"generated":{"line":1,"column":314}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":9,"column":45},"generated":{"line":1,"column":316}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":9,"column":64},"generated":{"line":1,"column":333}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":9,"column":80},"generated":{"line":1,"column":335}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":9,"column":80},"generated":{"line":1,"column":351}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":1,"column":364}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":11,"column":11},"generated":{"line":1,"column":366}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":11,"column":23},"generated":{"line":1,"column":378}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":11,"column":26},"generated":{"line":1,"column":381}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":11,"column":43},"generated":{"line":1,"column":398}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":11,"column":55},"generated":{"line":1,"column":408}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":1,"column":410}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":12,"column":11},"generated":{"line":1,"column":412}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":12,"column":23},"generated":{"line":1,"column":424}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":12,"column":26},"generated":{"line":1,"column":427}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":12,"column":37},"generated":{"line":1,"column":436}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":12,"column":41},"generated":{"line":1,"column":440}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":12,"column":37},"generated":{"line":1,"column":442}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":12,"column":50},"generated":{"line":1,"column":451}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":12,"column":53},"generated":{"line":1,"column":453}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":12,"column":56},"generated":{"line":1,"column":455}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":12,"column":61},"generated":{"line":1,"column":458}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":461}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":13,"column":11},"generated":{"line":1,"column":463}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":13,"column":23},"generated":{"line":1,"column":475}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":13,"column":26},"generated":{"line":1,"column":478}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":13,"column":43},"generated":{"line":1,"column":495}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":13,"column":58},"generated":{"line":1,"column":508}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":13,"column":62},"generated":{"line":1,"column":512}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":13,"column":58},"generated":{"line":1,"column":514}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":521}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":14,"column":11},"generated":{"line":1,"column":523}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":14,"column":23},"generated":{"line":1,"column":535}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":14,"column":26},"generated":{"line":1,"column":538}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":14,"column":43},"generated":{"line":1,"column":555}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":14,"column":55},"generated":{"line":1,"column":565}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":14,"column":63},"generated":{"line":1,"column":567}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":579}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":15,"column":11},"generated":{"line":1,"column":581}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":15,"column":23},"generated":{"line":1,"column":593}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":15,"column":26},"generated":{"line":1,"column":596}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":15,"column":43},"generated":{"line":1,"column":613}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":15,"column":61},"generated":{"line":1,"column":629}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":15,"column":69},"generated":{"line":1,"column":631}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":649}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":16,"column":11},"generated":{"line":1,"column":651}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":16,"column":23},"generated":{"line":1,"column":663}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":16,"column":26},"generated":{"line":1,"column":666}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":16,"column":48},"generated":{"line":1,"column":686}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":16,"column":55},"generated":{"line":1,"column":688}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":16,"column":67},"generated":{"line":1,"column":700}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":16,"column":70},"generated":{"line":1,"column":703}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":726}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":18,"column":11},"generated":{"line":1,"column":728}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":18,"column":23},"generated":{"line":1,"column":740}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":18,"column":26},"generated":{"line":1,"column":743}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":18,"column":43},"generated":{"line":1,"column":760}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":18,"column":55},"generated":{"line":1,"column":770}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":772}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":19,"column":11},"generated":{"line":1,"column":774}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":19,"column":23},"generated":{"line":1,"column":786}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":19,"column":26},"generated":{"line":1,"column":789}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":19,"column":37},"generated":{"line":1,"column":798}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":19,"column":41},"generated":{"line":1,"column":802}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":19,"column":37},"generated":{"line":1,"column":804}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":19,"column":50},"generated":{"line":1,"column":813}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":19,"column":55},"generated":{"line":1,"column":816}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":19,"column":58},"generated":{"line":1,"column":818}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":19,"column":63},"generated":{"line":1,"column":821}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":1,"column":824}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":1,"column":826}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":20,"column":23},"generated":{"line":1,"column":838}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":20,"column":26},"generated":{"line":1,"column":841}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":20,"column":43},"generated":{"line":1,"column":858}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":20,"column":58},"generated":{"line":1,"column":871}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":20,"column":62},"generated":{"line":1,"column":875}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":20,"column":58},"generated":{"line":1,"column":877}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":884}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":21,"column":11},"generated":{"line":1,"column":886}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":21,"column":23},"generated":{"line":1,"column":898}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":901}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":21,"column":43},"generated":{"line":1,"column":918}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":21,"column":55},"generated":{"line":1,"column":928}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":21,"column":63},"generated":{"line":1,"column":930}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":1,"column":943}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":22,"column":11},"generated":{"line":1,"column":945}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":22,"column":23},"generated":{"line":1,"column":957}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":22,"column":26},"generated":{"line":1,"column":960}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":22,"column":43},"generated":{"line":1,"column":977}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":22,"column":61},"generated":{"line":1,"column":993}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":22,"column":69},"generated":{"line":1,"column":995}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":1014}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":1016}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":23,"column":23},"generated":{"line":1,"column":1028}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":23,"column":26},"generated":{"line":1,"column":1031}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":23,"column":48},"generated":{"line":1,"column":1051}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":23,"column":55},"generated":{"line":1,"column":1053}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":23,"column":67},"generated":{"line":1,"column":1065}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":23,"column":70},"generated":{"line":1,"column":1068}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":1091}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":28,"column":16},"generated":{"line":1,"column":1093}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":1,"column":1112}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":29,"column":20},"generated":{"line":1,"column":1114}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":1125}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":29,"column":43},"generated":{"line":1,"column":1137}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":29,"column":53},"generated":{"line":1,"column":1147}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":1158}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":33,"column":19},"generated":{"line":1,"column":1160}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":33,"column":47},"generated":{"line":1,"column":1187}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":1189}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":1,"column":1191}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":34,"column":37},"generated":{"line":1,"column":1207}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":34,"column":41},"generated":{"line":1,"column":1211}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":34,"column":37},"generated":{"line":1,"column":1213}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":34,"column":76},"generated":{"line":1,"column":1248}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":34,"column":103},"generated":{"line":1,"column":1274}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":34,"column":111},"generated":{"line":1,"column":1276}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":34,"column":119},"generated":{"line":1,"column":1278}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":1,"column":1304}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":1,"column":1306}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":1,"column":1313}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":30,"column":24},"generated":{"line":1,"column":1318}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":1,"column":1384}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":31,"column":20},"generated":{"line":1,"column":1386}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":31,"column":39},"generated":{"line":1,"column":1404}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":1408}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":1410}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":1433}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":15},"generated":{"line":1,"column":1435}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":27},"generated":{"line":1,"column":1447}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":30},"generated":{"line":1,"column":1450}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":48},"generated":{"line":1,"column":1466}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":52},"generated":{"line":1,"column":1470}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":48},"generated":{"line":1,"column":1472}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":86},"generated":{"line":1,"column":1506}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":118},"generated":{"line":1,"column":1537}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":125},"generated":{"line":1,"column":1539}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":137},"generated":{"line":1,"column":1551}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":141},"generated":{"line":1,"column":1555}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":39,"column":148},"generated":{"line":1,"column":1557}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":1560}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":1,"column":1562}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":1,"column":1574}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":30},"generated":{"line":1,"column":1577}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":48},"generated":{"line":1,"column":1593}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":52},"generated":{"line":1,"column":1597}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":48},"generated":{"line":1,"column":1599}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":86},"generated":{"line":1,"column":1633}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":119},"generated":{"line":1,"column":1665}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":126},"generated":{"line":1,"column":1667}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":138},"generated":{"line":1,"column":1679}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":142},"generated":{"line":1,"column":1683}},{"source":"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts","name":null,"original":{"line":40,"column":148},"generated":{"line":1,"column":1685}}],"sources":{"../../../../sourceES6/core/Cameras/RigModes/vrRigMode.ts":"import { Camera } from \"../camera\";\r\nimport { Matrix, Viewport } from \"../../Maths/math\";\r\nimport { VRDistortionCorrectionPostProcess } from \"../../PostProcesses/vrDistortionCorrectionPostProcess\";\r\nimport { VRMultiviewToSingleviewPostProcess } from '../../PostProcesses/vrMultiviewToSingleviewPostProcess';\r\nimport { VRCameraMetrics } from \"../VR/vrCameraMetrics\";\r\nimport { Logger } from '../../Misc/logger';\r\n\r\nCamera._setVRRigMode = function(camera: Camera, rigParams: any) {\r\n    var metrics = <VRCameraMetrics>rigParams.vrCameraMetrics || VRCameraMetrics.GetDefault();\r\n\r\n    camera._rigCameras[0]._cameraRigParams.vrMetrics = metrics;\r\n    camera._rigCameras[0].viewport = new Viewport(0, 0, 0.5, 1.0);\r\n    camera._rigCameras[0]._cameraRigParams.vrWorkMatrix = new Matrix();\r\n    camera._rigCameras[0]._cameraRigParams.vrHMatrix = metrics.leftHMatrix;\r\n    camera._rigCameras[0]._cameraRigParams.vrPreViewMatrix = metrics.leftPreViewMatrix;\r\n    camera._rigCameras[0].getProjectionMatrix = camera._rigCameras[0]._getVRProjectionMatrix;\r\n\r\n    camera._rigCameras[1]._cameraRigParams.vrMetrics = metrics;\r\n    camera._rigCameras[1].viewport = new Viewport(0.5, 0, 0.5, 1.0);\r\n    camera._rigCameras[1]._cameraRigParams.vrWorkMatrix = new Matrix();\r\n    camera._rigCameras[1]._cameraRigParams.vrHMatrix = metrics.rightHMatrix;\r\n    camera._rigCameras[1]._cameraRigParams.vrPreViewMatrix = metrics.rightPreViewMatrix;\r\n    camera._rigCameras[1].getProjectionMatrix = camera._rigCameras[1]._getVRProjectionMatrix;\r\n\r\n    // For multiview on a webVR camera\r\n    // First multiview will be rendered to camera._multiviewTexture\r\n    // Then this postprocess will run on each eye to copy the right texture to each eye\r\n    if (metrics.multiviewEnabled) {\r\n        if (!camera.getScene().getEngine().getCaps().multiview) {\r\n            Logger.Warn(\"Multiview is not supported, falling back to standard rendering\");\r\n            metrics.multiviewEnabled = false;\r\n        }else {\r\n            camera._useMultiviewToSingleView = true;\r\n            camera._rigPostProcess = new VRMultiviewToSingleviewPostProcess(\"VRMultiviewToSingleview\", camera, metrics.postProcessScaleFactor);\r\n        }\r\n    }\r\n\r\n    if (metrics.compensateDistortion) {\r\n        camera._rigCameras[0]._rigPostProcess = new VRDistortionCorrectionPostProcess(\"VR_Distort_Compensation_Left\", camera._rigCameras[0], false, metrics);\r\n        camera._rigCameras[1]._rigPostProcess = new VRDistortionCorrectionPostProcess(\"VR_Distort_Compensation_Right\", camera._rigCameras[1], true, metrics);\r\n    }\r\n};"},"lineCount":null}},"error":null,"hash":"d4d1a3af9943fbf70ad33c69accc93ef","cacheData":{"env":{}}}